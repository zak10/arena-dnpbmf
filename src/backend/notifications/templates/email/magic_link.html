<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <meta name="supported-color-schemes" content="light dark">
    <!-- Prevents iOS from auto-detecting and styling phone numbers -->
    <meta name="format-detection" content="telephone=no">
    <title>Arena Login Link</title>
    <!--[if mso]>
    <noscript>
        <xml>
            <o:OfficeDocumentSettings>
                <o:PixelsPerInch>96</o:PixelsPerInch>
            </o:OfficeDocumentSettings>
        </xml>
    </noscript>
    <![endif]-->
    <style>
        /* Base styles with progressive enhancement */
        :root {
            color-scheme: light dark;
            supported-color-schemes: light dark;
        }
        
        /* Reset styles for email clients */
        body, table, td, a, p {
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            margin: 0;
            padding: 0;
            border: 0;
        }

        /* Responsive container */
        .container {
            width: 100% !important;
            max-width: 600px !important;
            margin: 0 auto !important;
            padding: 20px !important;
        }

        /* Typography */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            font-size: 16px;
            line-height: 1.5;
            color: #2D3748;
        }

        /* Primary button */
        .button {
            display: inline-block;
            padding: 16px 32px;
            background-color: #4A5568;
            color: #FFFFFF !important;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            text-align: center;
            -webkit-text-size-adjust: none;
            mso-hide: all;
        }

        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #1A202C !important;
                color: #E2E8F0 !important;
            }
            .button {
                background-color: #4A5568 !important;
                color: #FFFFFF !important;
            }
        }

        /* Responsive breakpoints */
        @media screen and (max-width: 480px) {
            .container {
                padding: 10px !important;
            }
            .button {
                width: 100% !important;
                display: block !important;
            }
        }
    </style>
</head>
<body style="margin: 0; padding: 0; background-color: #F7FAFC; -webkit-font-smoothing: antialiased;">
    <!-- Preheader text for email clients -->
    <div style="display: none; max-height: 0; overflow: hidden;">
        Secure login link for Arena - Valid for {{ expiry_minutes }} minutes
    </div>

    <!-- Main container -->
    <table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr>
            <td align="center" style="padding: 40px 0;">
                <table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
                    <!-- Header -->
                    <tr>
                        <td align="center" style="padding: 0 20px;">
                            <img src="https://cdn.arena.dev/logo.png" 
                                 alt="Arena Logo" 
                                 width="120" 
                                 height="40"
                                 style="display: block; margin: 0 auto;"
                                 role="img">
                            <div style="margin-top: 20px;">
                                <img src="https://cdn.arena.dev/verified-business.png" 
                                     alt="Verified Business" 
                                     width="20" 
                                     height="20"
                                     style="vertical-align: middle;"
                                     role="img">
                                <span style="vertical-align: middle; margin-left: 8px;">Verified Business Email</span>
                            </div>
                        </td>
                    </tr>

                    <!-- Welcome message -->
                    <tr>
                        <td style="padding: 40px 20px 20px;">
                            <h1 style="margin: 0; font-size: 24px; font-weight: 600; color: #2D3748;">
                                Welcome back, {{ user_name }}
                            </h1>
                            <p style="margin: 20px 0;">
                                Here's your secure login link for {{ company_name }}. This link will expire in {{ expiry_minutes }} minutes.
                            </p>
                        </td>
                    </tr>

                    <!-- Login button -->
                    <tr>
                        <td align="center" style="padding: 20px;">
                            <!-- Primary button -->
                            <a href="{{ magic_link_url }}" 
                               class="button" 
                               role="button" 
                               aria-label="Login to Arena"
                               style="display: inline-block; padding: 16px 32px; background-color: #4A5568; color: #FFFFFF; text-decoration: none; border-radius: 6px; font-weight: 600;">
                                Login to Arena
                            </a>
                            <!-- Fallback text link -->
                            <p style="margin-top: 20px; font-size: 14px;">
                                Or copy and paste this link into your browser:<br>
                                <a href="{{ magic_link_url }}" 
                                   style="color: #4A5568; word-break: break-all;">
                                    {{ magic_link_url }}
                                </a>
                            </p>
                        </td>
                    </tr>

                    <!-- Security information -->
                    <tr>
                        <td style="padding: 20px;">
                            <div style="padding: 20px; background-color: #EDF2F7; border-radius: 6px;">
                                <p style="margin: 0; font-size: 14px;">
                                    <strong>Security Notice:</strong><br>
                                    • This link is valid for {{ expiry_minutes }} minutes only<br>
                                    • Can only be used once<br>
                                    • Sent to your verified business email<br>
                                    • Link ID: {{ tracking_id }}
                                </p>
                            </div>
                        </td>
                    </tr>

                    <!-- Footer -->
                    <tr>
                        <td style="padding: 40px 20px; text-align: center; font-size: 14px; color: #718096;">
                            <p style="margin: 0 0 10px;">
                                Need help? Contact our support team at<br>
                                <a href="mailto:{{ support_email }}" 
                                   style="color: #4A5568;">
                                    {{ support_email }}
                                </a>
                            </p>
                            <p style="margin: 0; font-size: 12px;">
                                Arena Technologies, Inc.<br>
                                123 Business Street, Suite 100<br>
                                San Francisco, CA 94105<br>
                                <a href="https://arena.dev/privacy" 
                                   style="color: #4A5568;">
                                    Privacy Policy
                                </a>
                            </p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>